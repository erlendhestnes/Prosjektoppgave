\chapter{Accelerometer Analysis}

This chapter presents a discussion around choosing an accelerometer, from the overview in Chapter \ref{chap:overview}, that gives the best trade-off in terms of functionality and power consumption. The chosen accelerometer will be used for a custom demonstration board.

\section{Important Criteria}

In almost any accelerometer based application, the accelerometer will do nothing 99\% of the time \cite{moldsvor15}. If the accelerometer is going to be used in an application where it is awoken by an external trigger, it may be most beneficial to select the component with lowest shutdown current. However, a more common use-case may be to use the accelerometer as the trigger to wake-up the rest of the system when motion is detected. This approach is for instance used for modern remote controls. For such a configuration we would want the accelerometer to take measurements only when movement is detected. It is therefore quite common for accelerometers to incorporate a low power wake-up mode. In this scheme the accelerometer use a very low measurement rate to listen for any motion above a certain threshold. When the threshold is breached, the sensors can enter normal operation and begin to sample at a much higher rate. 

\subsection{ADXL362}
From the comparison in Table \ref{tab:accel_comparison} from Chapter \ref{chap:overview} we see that the ADXL362 from Analog Devices feature a motion detect mode which only consumes 270nA. In this mode the accelerometer samples at a rate of 6 Hz \cite{adxl362}. This should be more than enough to sense that an object is being moved. The threshold value can be specified in a dedicated register. When the specified threshold is breached, the accelerometer is able to respond autonomously by either entering full bandwidth measurement mode or by generating an interrupt. The ADXL362 also features an embedded FIFO that can hold 512 full resolution samples, which enables the accelerometer to autonomously collect samples without needing a poll request from the MCU. This is very beneficial, since it is often the MCU that consumes most power. The FIFO is also available in wake-up mode, which makes it possible to read out collected samples prior to the threshold breach. Some downsides with using the ADXL362 is the relatively low output data rate, a digital resolution of only 12-bits, as well as a relatively high spectral noise density. The last factor might be mitigated by using precision mode, but this comes at the cost of an increase in current consumption. The ODR rate and digital resolution might impose limitations on the number of applications that the accelerometer can be used for. The 6 Hz motion detect mode might also be insufficient for detecting impacts. The LIS3DH and the KX123 both have a very high maximum ODR and digital resolution, and for these devices this mode is used to detect gestures such as double tapping. The closest competitor to the ADXL362 in terms of power consumption is the MC3610 from mCube. This device uses 600nA in motion detect mode, which is over twice that of the ADXL362. One does however benefit from a better spectral noise density and a digital resolution of 14-bits, considering that the numbers shown for the MC3610 is for 50Hz ODR. The MC3610 also have a FIFO, but it is only 32 samples deep, and consumes extra current when in use. 

The LIS3DH from STMicroelectronics is also a interesting device in this comparison. It has a high digital resolution of 16-bit, excellent spectral noise density and maximum ODR of 1.25kHz. It also has a lot of features, such as an embedded FIFO, free-fall and tap detection and a temperature sensor. Unfortunately the datasheet does not provide any numbers on current consumption for the wake-up mode. They do however state in an application note \cite{lis3dh_appnote} that the current consumption at 1 Hz ODR in low power mode is 2$\si{\micro\ampere}$. So it is very reasonable to assume that the current consumption will be somewhere in the $\si{\micro\ampere}$ range for this device. Another downside is that the FIFO is only able to hold 32 samples with 12-bit resolution.

The MMA8491QR1 from Freescale Semiconductor has the lowest shutdown current and a digital resolution of 14-bit. A lot of the functionality in the device is automated, from power management to measurement range. This makes it simple for designer to use, but comes at a cost of reduced design flexibility. The device does not have FIFO, and only I2C is provided as digital interface. The supply voltage must also be greater than 1.95V for the device to work. However, for a design where shutdown current is the most important factor, this might be the device you are looking for.

The last device is the KX123 from Kionix. This features a very high resolution of 16-bit and a impressive 25.6kHz ODR. The KX123 also has a wake-up mode with a configurable measurement rate from 0.781Hz to 100Hz. At the lowest rate of 0.781Hz it consumes 1.8$\si{\micro\ampere}$. This is relatively much current when compared to the ADXL362 and MC3610. The KX123 is a precision device, but the cost of this precision is too high in terms of power consumption.

Based on this analysis, the choice basically comes down to two accelerometers; the ADXL362 and the LIS3DH. Selecting one of them depends very much on the application they are going to be used for. If features and precision are a bigger requirement the power consumption, then the LIS3DH is the best choice. From a low power-perspective no one is able to compete with the ADXL362 from Analog Devices.

\subsection{Are we sometimes able to completely turn off the accelerometer?}

[this will probably be removed]

As we see from table \ref{tab:accel_comparison} the lowest current consumption is in shutdown mode. A question arises from this, are we at some point able to assume that no motion is going to occur. If so, are we able to enter shutdown mode to further consume power? This scheme would require some external timer to wake the accelerometer. And one also need to assume that this timer is going to use less current than the wake-up mode itself. For most applications it would not be possible to predict whether motion is going to occur or not.